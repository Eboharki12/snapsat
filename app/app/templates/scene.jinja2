{% extends "base.jinja2" %}
    
{% block header %}
    <header class='contain'>
        <h1 class='mbn'><a href='/'>Snapsat</a> <span class='h3 red'>Beta</span></h1>
        <p class='blurb mbl'>The easiest way to create custom Landsat band composites.</p>
    </header>
{% endblock %}

{% block content %}
 
<div class='contain'>
    <h2>Scene {{ scene_id }}</h2>
    {% for band_combo, composite in composites.iteritems() %}
            <p>Bands: {{ composite.band1 }}, {{ composite.band2 }}, {{ composite.band3 }}</p>
            <div class='nopreview' id='{{composite.previewjobid}}'>
            {% if composite.previewurl %}
                <img src="{{ composite.previewurl }}">
            {% else %}
                <img src="/static/img/no_preview.png">
            {% endif %}
            </div>
            {% if composite.fullurl %}
                <p>Current status: <strong class='red'><a href="{{ composite.fullurl }}">{{ composite.fullstatus }}! Download Full Zip</a></strong></p>
            {% else %}
            <div class='nofull' id='{{composite.fulljobid}}'>
                {% if composite.fullstatus %}
                     <p>Current status: <strong class='red'><span id='fullstatus'>{{ composite.fullstatus }}</span></strong></p>
                    {% if composite.elapsed_time %}
                        <p>Elapsed Process Time (hr:min:sec): <span id='fullelapsedtime'>{{ composite.elapsed_time }}</span></p>
                    {% endif %}
                {% else %}
                    <p>Current status: <strong class='red'>No one has requested the full composite of this band combination. Be the first!</strong></p>
                {% endif %}
            </div>
            {% endif %}
    {% endfor %}


    <h2>Choose a combination</h2>
    <form method="post" id="request_form_{{scene_id}}">
        <div>
            <select name='Band 1'>
                <option value='1'>1</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5</option>
                <option value='6'>6</option>
                <option value='7'>7</option>
                <option value='8'>8</option>
            </select>
            <select name='Band 2'>
                <option value='1'>1</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5</option>
                <option value='6'>6</option>
                <option value='7'>7</option>
                <option value='8'>8</option>
            </select>
            <select name='Band 3'>
                <option value='1'>1</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5</option>
                <option value='6'>6</option>
                <option value='7'>7</option>
                <option value='8'>8</option>
            </select>


        </div>
        <div id='combinations'>
            <div class='display-block'>
                <label>Natural color: 4, 3, 2</label>
                <input class='' type="radio" name="band_combo" value="432" checked>
            </div>
            <div class='display-block'>
                <label>Color infrared: 5, 4, 3</label>
                <input type="radio" name="band_combo" value="543">
            </div>
            <div class='display-block'>
                <label>5, 3, 2</label>
                <input type="radio" name="band_combo" value="532">
            </div>
        </div>
        <button form="request_form_{{scene_id}}" formaction="/request_preview/{{scene_id}}" formmethod="post" type="submit">Render Preview</button>
        <button form="request_form_{{scene_id}}" formaction="/request_composite/{{scene_id}}" formmethod="post" type="submit">Render Full Image</button>
    </form>

</div>

</div>


{% endblock %}
