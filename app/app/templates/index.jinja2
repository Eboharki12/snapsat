{% extends 'base.jinja2' %}


{% block content %}


<!-- Map container -->
<div class='map-container'>
  <div id='map'></div>

  <div class='container clearfix'>

    <div class='blurb absolute bottom-0 z2 p1'>
      <h1 class='white mb0'>Select a location</h1>
      <p class='white h4 bold'>Pan around the map or use the search bar to zoom to an address.</p>
      <a  class='white button button-transparent mxn2' 
          href='#results'>View the results <i class='fa fa-chevron-down'></i>
      </a>
    </div>
  </div>

</div> <!-- Map container -->


<!-- Content container -->
<div id='results' class='container clearfix mt4'>

  <div id='where' class='md-col md-col-6 p1'>
    <h3>A little background information</h3>
    <h4>What is Landsat?</h4>
    <p>
      Everyday, the Landsat 8 satellite captures nearly 550 scenes of the 
      Earth, each of which measures roughly 180 square kilometers. At worst, 
      it’s an  impressive selfie. At best, it’s a tool for learning about the 
      dynamic processes and characteristics of our planet. If you're just
      getting started with working with Landsat data, or would like to learn
      more, check out
      <a class='bold' href='/guide'>our guide.</a>
    </p>
    <h4>Paths and Rows</h4>
    <p>
      As you pan around, you'll notice that scenes are grouped into sets of listings. Each listing is a unique <em>Path and row</em>, which represents a specific region regularly captured by Landsat. There's a significant amount of overlap between regions, which is why you'll occassionally see multiple groupings.
      <sup><a href='#fn:1' id='fnref:2'>&#8505;</a></sup>
    </p>
    <h4>Scenes</h4>
    <p>
      Within each <em>Path and row</em>, you'll see multiple dates listed. These are referred to as <em>scenes</em>. 
      Because Landsat 8 captures images at the same locations, you can see how the Earth is changing over time.
      <sup><a href='#fn:2' id='fnref:2'>&#8505;</a></sup>
      Typically, scenes with less cloud cover are more useful.
    </p>
  </div>


  <div id='js-pathrowgrouping' class='md-col md-col-6 p1'>
    {% for group in scenes %}
      <div class='bg-yellow'>
        <div>
          Path-Row: <span class='bold'>{{ group[0].path }}</span>
          Time: <span class='bold'>~{{ group[0].average_time }}</span><span class='ml1'>UTC</span>
        </div>
        <div class='flex flex-justify'>
          <div>Date</div>
          <div class='regular gray'>Cloud Cover</div> 
        </div>
        {% for s in group %}
        <div class='pathrowsubgroup'>
          <div>
            <a href='/scene/{{ s.entityid }}'>
              <div class='regular black mr2'>{{ s.acquisitiondate }}</div>
              <div class='regular gray'>{{ s.cloudcover }}%</div> 
            </a>
          </div>
        </div>
        {% endfor %}
      </div>
    {% endfor %}

  </div> <!-- Path Row grouping -->
</div> <!-- Content container -->


<!-- FOOTNOTES -->
{% include 'includes/footnotes_index.html' %}

{% endblock %}
