{% extends "base.jinja2" %}

{% block content %}

<header>
    <h1><a href='/'>Snapsat Develop</a></h1>
</header>

<section id='overview'>
    <p class='blurb'>The easiest way to create custom Landsat band composites.</p>
    <p>Offload the chore of installing and configuring the tools required to
        work with Landsat data to Snapsat. Find the scene you want, tell us
        which bands you'd like used, and wait 10 minutes. That's it!</p>
</section>


<section id='where'>
    <h2>Choose a location</h2>
    <p class='blurb'>Use the map on the left to select a location.</p>
</section>

<!-- TODO: ARRANGE BY SCENE -->

<section id='scene'>
    <h2>Choose a scene</h2>
</section>


<section id='path_row'>
{% for group in scenes|groupby('sliced') %}
<div>
    <table>
        <tbody>
            <tr><strong>{{ group.grouper }}</strong></tr>
                {% for s in group.list %}
                    <tr>
                        <td>{{ s.acquisitiondate }}</td>
                        <td>{{ s.path }}</td>
                        <td>{{ s.row }}</td>
                        <td>{{ s.cloudcover }}</td>
                        <td><a href='/scene/{{ s.entityid }}'</a>{{ s.entityid }}</td>
                        <td>{{ s.sliced }}</td>
                    </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endfor %}
<section>


<section id='date'>
    <h2>Choose a date</h2>
    <table>
        <thead>
            <tr>
                <td>Acquisition date</td> <td>Path</td> <td>Row</td> <td>Percent cloud cover</td>
            </tr>
        </thead>
        <tbody>
        </tbody>

        {% for s in scenes %}
            <tr>
                <td>{{ s.acquisitiondate }}</td>
                <td>{{ s.path }}</td>
                <td>{{ s.row }}</td>
                <td>{{ s.cloudcover }}</td>
                <td>{{ s.entityid }}</td>
                <td>{{ s.sliced }}</td>
            </tr>
        {% endfor %}
    </table>
</section>
{% endblock %}
