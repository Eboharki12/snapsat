{% extends "base.jinja2" %}


{% block content %}

<style>
  .introduction {
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 9999;
  }
</style>

<div class='map-container'>
  <div id='map'></div>
  <div class='introduction white'>
    <h1>Snapsat</h1>
    <p class='caps h3'>Create Landsat composite with your browser.</p>
  </div>
  <div class='results white'>
    <p>Your results are below</p>
  </div>
</div>

<div id='create' class='clearfix mt4'>
  <div class='col-8 mx-auto'>

    <!-- HEADING -->
    <div class='center mb4'>
      <h1 class='mb0 selectscene'>Select a Landsat scene</h1>
      <p class='h3'>What location on the Earth and what date are you interested in?<sup><a href="#fn:1" id="fnref:1"></a>&#8505;</a></sup></p>
  </div>


  <div class='center'>
    <!-- SELECT LOCATION -->
    <section id='where' class='mb4'>
      <h2>Select a location</h2>
      <p>Each square represents the boundaries of an individual Landsat image, uniquely identified by a Path-Row. The squares overlap and your selection may be covered more than one square.<sup><a href="#fn:2" id="fnref:2"></a>&#8505;</a></sup></p>
  </section>


  <!-- SELECT DATE -->
  <section class='mb4'>
    <h2>Choose a date</h2>
    <p>Each Path-Row has multiple available dates. Typically, dates with less cloud cover are more useful. Landsat 8 passes over the same spot on Earth at about the same time, every time.<sup><a href="#fn:3" id="fnref:3"></a>&#8505;</a></sup></p>

  <div id='js-pathrowgrouping' class="flex flex-wrap flex-justify flex-start">
    {% for group in scenes %}
    <div class="flex flex-column p2">
      <div>
        <div>
          Path-Row: <span class='bold'>{{ group[0].path }}</span>
          Time: <span class='bold'>~{{ group[0].average_time }}</span><span class='ml1'>UTC</span>
        </div>
      </div>
      <div class='flex flex-justify'>
        <div>Date</div>
        <div class='regular gray'>Cloud Cover</div> 
      </div>
      {% for s in group %}
      <div class='pathrowsubgroup'>
        <div>
          <a href='/scene/{{ s.entityid }}'>
            <div class='regular black mr2'>{{ s.acquisitiondate }}</div>
            <div class='regular gray'>{{ s.cloudcover }}%</div> 
          </a>
        </div>
      </div>
      {% endfor %}
    </div>
    {% endfor %}
  </div>
</section>
        </div>

        <!-- FOOTNOTES -->
        {% include 'includes/footnotes_index.html' %}

        {% endblock %}

        {% block scripts %}
        <script type='text/javascript' src='/static/js/map.js'></script>
        {% endblock %}
