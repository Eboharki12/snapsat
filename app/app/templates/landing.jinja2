{% extends "base.jinja2" %}

{% block scripts %}
<script type='text/javascript' src='/static/js/map.js'></script>
{% endblock %}

{% block header %}
<header>
    <nav class="container clearfix">
        <div class="sm-col">
            <a href="/" class="button py2 button-transparent h2">Snapsat</a>
        </div>
        <div class="sm-col-right">
            <a href="/about" class="button py2 button-transparent">About</a>
            <a href="/guide" class="button py2 button-transparent">Help</a>
            <a href="/create" class="button py2 button-transparent">Create</a>
        </div>
    </nav>
</header>

{% endblock %}

{% block content %}
    <div id='where' class='sm-col sm-col6 col col-6'>
        <h2 class='container'>Choose a location</h2>
        <div class='map-container clearfix'>
            <div id='map'>
                <span class="reticle bold red h3"><img src='/static/logo-dark-red.svg'></span>
            </div>
        </div>
    </div>

    <div class='col col-6 px4'>
        <h2>Select a date</h2>
        <p>Your location may be covered by overlapping regions, a Path and Row. Each region has multiple available dates. Typically, dates that have less cloud coverage are more useful.</p>

        <div id='pathrowgrouping'>
            {% for group in scenes %}
            <div>
                <table>
                    <thead class='group_head'>  
                        <tr>
                            <th class="light uppercase h2">Path-Row: {{ group[0].path}}-{{group[0].row}}</th><th></th><th></th><th></th><th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th class="date">Date acquired</th><th class="cloud">Cloud cover</th>
                        </tr>
                        {% for s in group %}
                        <tr>
                            <td class="datetbl"><a href='/scene/{{ s.entityid }}'>{{ s.acquisitiondate }}</a></td>
                            <td>{{ s.cloudcover }}%</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}

